<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Run ssGSEA2 or PTM-SEA — ssGSEA2_wrapper • MotrpacRatTraining6mo</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run ssGSEA2 or PTM-SEA — ssGSEA2_wrapper"><meta name="description" content="Run ssGSEA or PTM-SEA with ssGSEA2.0.
GCT files with results are written to outdir."><meta property="og:description" content="Run ssGSEA or PTM-SEA with ssGSEA2.0.
GCT files with results are written to outdir."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MotrpacRatTraining6mo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/MotrpacRatTraining6mo.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/key_metabolites.html">Key metabolites</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MoTrPAC/MotrpacRatTraining6mo/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Run ssGSEA2 or PTM-SEA</h1>
      <small class="dont-index">Source: <a href="https://github.com/MoTrPAC/MotrpacRatTraining6mo/blob/main/R/gsea.R" class="external-link"><code>R/gsea.R</code></a></small>
      <div class="d-none name"><code>ssGSEA2_wrapper.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Run ssGSEA or PTM-SEA with <a href="https://github.com/broadinstitute/ssGSEA2.0" class="external-link">ssGSEA2.0</a>.
GCT files with results are written to <code>outdir</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ssGSEA2_wrapper</span><span class="op">(</span></span>
<span>  <span class="va">input_gct_path</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gsea"</span>, <span class="st">"gsea_mitocarta"</span>, <span class="st">"ptmsea"</span><span class="op">)</span>,</span>
<span>  gene_set_db_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_prefix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outdir <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  nperm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-input-gct-path">input_gct_path<a class="anchor" aria-label="anchor" href="#arg-input-gct-path"></a></dt>
<dd><p>character, path to GCT file used as input, e.g., from
<code><a href="prepare_gsea_input.html">prepare_gsea_input()</a></code> or <code><a href="prepare_ptmsea_input.html">prepare_ptmsea_input()</a></code></p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>character, one of "gsea","gsea_mitocarta","ptmsea". Must be
"gsea" or "ptmsea" is <code>gene_set_db_path</code> is specified.</p></dd>


<dt id="arg-gene-set-db-path">gene_set_db_path<a class="anchor" aria-label="anchor" href="#arg-gene-set-db-path"></a></dt>
<dd><p>optional character or character vector of GMT files
that should be used as the gene set database(s). If not specified, the corresponding
database used for manuscript analyses is used (see details).</p></dd>


<dt id="arg-output-prefix">output_prefix<a class="anchor" aria-label="anchor" href="#arg-output-prefix"></a></dt>
<dd><p>character, prefix for results. By default, the prefix is taken
from <code>input_gct_path</code>.</p></dd>


<dt id="arg-outdir">outdir<a class="anchor" aria-label="anchor" href="#arg-outdir"></a></dt>
<dd><p>character, output directory for results. The directory is created if it does not already exist.
Current directory by default.</p></dd>


<dt id="arg-nperm">nperm<a class="anchor" aria-label="anchor" href="#arg-nperm"></a></dt>
<dd><p>integer, number of permutations. Default 10000 for methods "gsea", "gsea_mitocarta"
and 1000 for method "ptmsea".</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>other arguments passed to <code><a href="https://rdrr.io/pkg/ssGSEA2/man/run_ssGSEA2.html" class="external-link">ssGSEA2::run_ssGSEA2()</a></code>, e.g., for parallelization</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Large named list with full GSEA output. Documentation for this list is
not currently available. Most users will be interested
in the GCT files written to <code>outdir</code> instead.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><strong>Gene set databases:</strong></p>
<p>If <code>gene_set_db_path</code> is not specified, than the following gene set databases
are used for the given method:</p><ul><li><p>gsea: <code>c2.cp.v7.0.symbols.RAT.gmt</code></p></li>
<li><p>gsea_mitocarta: <code>Rat.Refseq.MitoPathways3.0.gmt</code></p></li>
<li><p>ptmsea: <code>ptm.sig.db.all.flanking.human.v1.9.0.gmt</code></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="prepare_gsea_input.html">prepare_gsea_input()</a></code>, <code><a href="prepare_ptmsea_input.html">prepare_ptmsea_input()</a></code>, <code><a href="https://rdrr.io/pkg/ssGSEA2/man/run_ssGSEA2.html" class="external-link">ssGSEA2::run_ssGSEA2()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># For these examples, we use a single permutation for the sake of running</span></span></span>
<span class="r-in"><span><span class="co"># the example quickly. In practice, a large number of permutations should </span></span></span>
<span class="r-in"><span><span class="co"># be used, e.g., 1000, 10000</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run GSEA with differential analysis results from liver global proteome</span></span></span>
<span class="r-in"><span><span class="va">input</span> <span class="op">=</span> <span class="fu"><a href="prepare_gsea_input.html">prepare_gsea_input</a></span><span class="op">(</span>tissue <span class="op">=</span> <span class="st">"LIVER"</span>,</span></span>
<span class="r-in"><span>                           assay <span class="op">=</span> <span class="st">"PROT"</span>, </span></span>
<span class="r-in"><span>                           outdir <span class="op">=</span> <span class="st">"/tmp"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">=</span> <span class="fu">ssGSEA2_wrapper</span><span class="op">(</span><span class="va">input</span>, method <span class="op">=</span> <span class="st">"gsea"</span>, outdir <span class="op">=</span> <span class="st">"/tmp"</span>, nperm <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run GSEA with Mitocarta database,</span></span></span>
<span class="r-in"><span><span class="co"># which uses RefSeq IDs as pathway members</span></span></span>
<span class="r-in"><span><span class="va">input</span> <span class="op">=</span> <span class="fu"><a href="prepare_gsea_input.html">prepare_gsea_input</a></span><span class="op">(</span>tissue <span class="op">=</span> <span class="st">"SKM-GN"</span>,</span></span>
<span class="r-in"><span>                           assay <span class="op">=</span> <span class="st">"TRNSCRPT"</span>, </span></span>
<span class="r-in"><span>                           outdir <span class="op">=</span> <span class="st">"/tmp"</span>,</span></span>
<span class="r-in"><span>                           gene_id_type <span class="op">=</span> <span class="st">"refseq"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">=</span> <span class="fu">ssGSEA2_wrapper</span><span class="op">(</span><span class="va">input</span>, method <span class="op">=</span> <span class="st">"gsea_mitocarta"</span>, outdir <span class="op">=</span> <span class="st">"/tmp"</span>, nperm <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use example from the Broad</span></span></span>
<span class="r-in"><span><span class="co"># Download example input</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span>url <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/nicolerg/ssGSEA2.0/"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"master/example/PI3K_pert_logP_n2x23936.gct"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  destfile <span class="op">=</span> <span class="st">"/tmp/PI3K_pert_logP_n2x23936.gct"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Download gene set database</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span>url <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/nicolerg/ssGSEA2.0/"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"master/example/ptm.sig.db.all.flanking.human.v1.8.1.gmt"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  destfile <span class="op">=</span> <span class="st">"/tmp/ptm.sig.db.all.flanking.human.v1.8.1.gmt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Using a small number of permutations for the sake of the example. 1000 recommended</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">=</span> <span class="fu">ssGSEA2_wrapper</span><span class="op">(</span><span class="st">"/tmp/PI3K_pert_logP_n2x23936.gct"</span>,</span></span>
<span class="r-in"><span>                     method <span class="op">=</span> <span class="st">"ptmsea"</span>, </span></span>
<span class="r-in"><span>                     gene_set_db_path <span class="op">=</span> <span class="st">"/tmp/ptm.sig.db.all.flanking.human.v1.8.1.gmt"</span>,</span></span>
<span class="r-in"><span>                     outdir <span class="op">=</span> <span class="st">"/tmp"</span>,</span></span>
<span class="r-in"><span>                     nperm <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nicole Gay, David Amar, Pierre Jean Beltran, MoTrPAC Study Group, NIH Common Fund, National Institute of Diabetes and Digestive and Kidney Diseases (NIDDK), National Institute of Arthritis and Musculoskeletal Diseases (NIAMS), National Institute on Aging (NIA), National Institute of Biomedical Imaging and Bioengineering.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

